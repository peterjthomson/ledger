# Ledger: Source Control for Agent and Human Collaboration

A modernised git interface for macOS â€” view pull requests, worktrees, branches and stashes at a glance

Version control is the heart of software development. The core ledger concept behind git source control is robust and battle tested but modern tooling and interfaces have not kept up with the rapid increase in volume and velocity of code being generated by coding agents and modern software development teams empowered with AI tools. Ledger is your command & control radar for overseeing changes made by multiple local and remote coding agents.

[![GitHub Release](https://img.shields.io/github/v/release/peterjthomson/ledger?style=flat-square)](https://github.com/peterjthomson/ledger/releases)
[![License](https://img.shields.io/badge/license-MIT-green?style=flat-square)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-macOS-lightgrey?style=flat-square)](https://github.com/peterjthomson/ledger)

## Download

- **macOS (Apple Silicon, zip):** [Releases](https://github.com/peterjthomson/ledger/releases)
- **Linux (Ubuntu/Debian x64, .deb):** [Releases](https://github.com/peterjthomson/ledger/releases)
- **Linux (AppImage x64, optional):** [Releases](https://github.com/peterjthomson/ledger/releases) â€” may require `fuse3` on some distros
- **Windows (NSIS installer):** Built on a Windows runner; grab the Windows asset from Releases when available

> **macOS first launch:** macOS may warn the app is â€œdamagedâ€ or â€œfrom the internetâ€.
> Right-click â†’ **Open** (sometimes twice) or:
> ```bash
> xattr -cr ~/Downloads/Ledger*.zip
> ```
> Then move Ledger to Applications.

## Features

<img width="1269" height="863" alt="Screenshot 2025-12-26 at 3 43 10â€¯pm" src="https://github.com/user-attachments/assets/45ba7306-fc15-4bf5-ab73-f0fc5ef2fe2f" />

### ğŸ”€ Pull Request Integration
- View open PRs from GitHub (via `gh` CLI)
- Filter by status: Open, Drafts, All
- See PR details, reviews, and inline diffs
- Create PRs directly from branches

### ğŸŒ³ Worktree Support
- View and navigate to git worktrees
- Detect AI agent workspaces (Cursor, Claude, etc.)
- See change stats per worktree
- Convert worktree changes to branches

### ğŸŒ¿ Branch Management
- View all local and remote branches with metadata (commit dates, counts)
- Filter: All, Local Only, Unmerged
- Sort: Name, Last Commit, First Commit, Most Commits
- Double-click to switch branches with auto-stash

### ğŸ“ Commit & Staging
- View commit history with graph visualization
- Stage/unstage files with diff preview
- Commit with message and description
- Reset to previous commits

### ğŸ“¦ Stash Management
- View, apply, and pop stashes
- Preview stash contents
- Convert stash to branch

### ğŸ§  Opinionated Git (paper-cut removal)
- Auto-stash for common operations (switching/pulling) where safe
- PR Preview (â€œvirtual mergeâ€) to answer â€œwhat would this branch contribute right now?â€
- Leapfrog-style flows for staying current without losing context
- Mailmap support for consistent commit author names

See: [Opinionated Git Behaviors](docs/opinionated-git.md)

<img width="1728" height="968" alt="Screenshot 2025-12-26 at 5 58 51â€¯pm" src="https://github.com/user-attachments/assets/8814646e-66fe-4773-b130-e25257072710" />

## Requirements

- macOS (Apple Silicon)
- `git` available on PATH
- [GitHub CLI](https://cli.github.com/) (`gh`) â€” optional, for PR integration

## Privacy & security

- Ledger runs locally and shells out to `git` / `gh` for operations.
- Auth and network access (for GitHub) are handled by `gh` and your git remote configuration.

## Development 
You can download the source code of Ledger to contribute your ideas or fork Ledger to customize it for yourself.

### Setup

```bash
# Clone the repository
git clone https://github.com/peterjthomson/ledger
cd ledger

# Install dependencies
npm install

# Start development server
npm run dev
```

### Available Scripts

| Command | Description |
|---------|-------------|
| `npm run dev` | Start development with hot reload |
| `npm run lint` | Run ESLint |
| `npm run format` | Format code with Prettier |
| `npm test` | Run E2E tests |
| `npm run build:mac:arm64` | Build for Apple Silicon |

### Project Structure

```
ledger/
â”œâ”€â”€ app/                    # Renderer process (React UI)
â”‚   â”œâ”€â”€ app.tsx            # Main React component
â”‚   â”œâ”€â”€ styles/            # CSS styles
â”‚   â””â”€â”€ types/             # TypeScript declarations
â”œâ”€â”€ lib/                    # Main process (Electron)
â”‚   â”œâ”€â”€ main/              # Main process code
â”‚   â””â”€â”€ preload/           # Preload scripts
â”œâ”€â”€ tests/                  # E2E tests (Playwright)
â””â”€â”€ docs/                   # Documentation
```

See [CONTRIBUTING.md](CONTRIBUTING.md) for detailed development guidelines.

## Tech Stack

- **[Electron](https://www.electronjs.org)** â€” Cross-platform desktop framework
- **[React 19](https://react.dev)** â€” UI library
- **[TypeScript](https://www.typescriptlang.org)** â€” Type-safe JavaScript
- **[simple-git](https://github.com/steveukx/git-js)** â€” Git operations
- **[GitHub CLI](https://cli.github.com/)** â€” Pull request data
- **[Playwright](https://playwright.dev)** â€” E2E testing

## Documentation

- [Architecture Overview](docs/architecture.md)
- [Canvas Architecture](docs/canvas.md)
- [Worktrees](docs/features/worktrees.md)
- [Roadmap](docs/roadmap.md)
- [Contributing](CONTRIBUTING.md)
- [Changelog](CHANGELOG.md)

## License

MIT â€” see [LICENSE](LICENSE) for details.

## Acknowledgments

Built with the [electron-react-app](https://github.com/nicepkg/electron-react-app) template.
